<section class="content-header">
    <h1>Wi-Fi Settings</h1>
</section>
<section class="content">
    <div class="row">
        <div class="col-md-4">
            <div class="box box-info">
                <div class="box-body">
                    <div class="form-group">
                        <label>Wi-Fi Mode
                            <span data-ng-balloon="You can run your ESP in AP Mode or Client Mode. In client mode you will need to connect to an existing Wi-Fi network, in AP Mode ESP creates a Wi-Fi network itself"></span>
                        </label>
                        <div>
                            <label class="radio-inline">
                                <input type="radio" name="wifiMode-radio" data-ng-model="model.wifiMode" value="access-point">
                                Access Point
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="wifiMode-radio" data-ng-model=" model.wifiMode" value="client">
                                Client
                            </label>
                        </div>
                    </div>
                    <div data-ng-include="'wifiMode-' + model.wifiMode"></div>
                </div>
                <div class="box-footer with-border">
                    <button type="button" class="btn btn-info btn-xs btn-flat box-tool">
                        <span class="glyphicon glyphicon-floppy-disk"></span>
                        Save
                    </button>
                    <button type="button" class="btn btn-danger btn-xs btn-flat box-tool">
                        Cancel
                    </button>
                </div>                    
            </div>
        </div>
    </div>
</section>
<script type="text/ng-template" id="wifiMode-access-point">
    <div class="form-group">
        <label>SSID <span data-ng-balloon="Wi-Fi Network's Name"></span></label>        
        <input type="text" class="form-control input-sm" data-ng-model="model.accessPoint.ssid" />
    </div>
    <div class="form-group">
        <label>Password
            <span data-ng-balloon="Wi-Fi Password"></span>
        </label>
        <input class="form-control input-sm" type="password" data-ng-model="model.accessPoint.password">
    </div>
    <div class="form-group">
        <label>Hide Network Name <span data-ng-balloon="You can choose to hide Wireless Network name, so your ESP does not broadcast SSID, keep in mind that people can still find your network if they are insist"></span></label>
        <div>
            <label class="switch">
                <input type="checkbox" data-ng-model="model.accessPoint.isHideNetworkName">
                <span class="slider round"></span>
            </label>
        </div>
    </div>
    <div class="form-group">
            <label>IP Address <span data-ng-balloon="Enter IP Address (for example 192.168.4.1)"></span></label>
            <input class="form-control input-sm" type="text" data-ng-model="model.accessPoint.ipAddress">
        </div>
        <div class="form-group">
            <label>Subnet Mask <span data-ng-balloon="Enter Subnet Mask (for example 255.255.255.0)"></span></label>
            <input class="form-control input-sm" type="text" data-ng-model="model.accessPoint.subnetMask">
    </div>
    <div class="form-group">
        <label>Auto Disable Wifi <span data-ng-balloon="Disable WiFi after a time interval, to conserve power in battery powered units. WiFi is re-enabled when an admin card is scanned, or device is rebooted. Remember that you need to have enough time to upload your configuration, so don't set it too low."></span></label>
        <select class="form-control input-sm" data-ng-model="model.accessPoint.autoDisableWifi"
            data-ng-options="autoDisableWifi.name for autoDisableWifi in ::autoDisableWifis">
        </select>
    </div>
</script>
<script type="text/ng-template" id="wifiMode-client">
    <div class="form-group">
        <label>SSID
            <span data-ng-balloon="Wi-Fi Network's Name"></span>
        </label>        
        <div class="input-group input-group-sm">
            <input type="text" class="form-control" data-ng-model="model.client.ssid" data-ng-hide="networks"/>
            <select class="form-control" data-ng-show="networks" data-ng-model="model.client.network" data-ng-options="network.name for network in networks"></select>
            <span class="input-group-btn">
                <button type="button" class="btn btn-info" data-ng-click="$ws.wifi.scan()">Scan</button>
            </span>
        </div>
    </div>
    <div class="form-group">
        <label>BSSID
            <span data-ng-balloon="If you have two Wi-Fi networks with the same SSID you may want to choose the specific one by BSSID"></span>
        </label>
        <input class="form-control input-sm" type="text" data-ng-model="model.client.bssid">
    </div>
    <div class="form-group">
        <label>Password <span data-ng-balloon="Wi-Fi Password"></span></label>
        <input class="form-control input-sm" type="password" data-ng-model="model.client.password">
    </div>
    <div class="form-group">
        <label>Use DHCP</label>
        <div>
            <label class="switch">
                <input type="checkbox" data-ng-model="model.client.isUseDHCP">
                <span class="slider round"></span>
            </label>
        </div>
    </div>
    <div data-ng-hide="model.client.isUseDHCP">
        <div class="form-group">
            <label>IP Address <span data-ng-balloon="Enter IP Address (for example 192.168.4.1)"></span></label>
            <input class="form-control input-sm" type="text" data-ng-model="model.client.ipAddress">
        </div>
        <div class="form-group">
            <label>Subnet Mask <span data-ng-balloon="Enter Subnet Mask (for example 255.255.255.0)"></span></label>
            <input class="form-control input-sm" type="text" data-ng-model="model.client.subnetMask">
        </div>
        <div class="form-group">
            <label>DNS Server</label>
            <input class="form-control input-sm" type="text" data-ng-model="model.client.dnsServer">
        </div>
        <div class="form-group">
            <label>Gateway</label>
            <input class="form-control input-sm" type="text" data-ng-model="model.client.gateway">
        </div>
    </div>
    <div class="form-group">
        <label>Auto Disable Wifi <span data-ng-balloon="Disable WiFi after a time interval, to conserve power in battery powered units. WiFi is re-enabled when an admin card is scanned, or device is rebooted. Remember that you need to have enough time to upload your configuration, so don't set it too low."></span></label>
        <select class="form-control input-sm" data-ng-model="model.client.autoDisableWifi"
            data-ng-options="autoDisableWifi.name for autoDisableWifi in ::autoDisableWifis">
        </select>
    </div>
</script>